"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const utils_1=require("../utils");let sass;function getResultForResolve(a){var b;return{code:a.css.toString(),map:null===(b=a.map)||void 0===b?void 0:b.toString(),dependencies:a.stats.includedFiles}}const transformer=async({content:a,filename:b,options:c={}})=>{null==sass&&({default:sass}=await utils_1.importAny("node-sass","sass"));const{renderSync:d,...e}={sourceMap:!0,...c,includePaths:utils_1.getIncludePaths(b,c.includePaths),outFile:`${b}.css`};return e.data=c.data?c.data+a:a,0===e.data.length?{code:c.data}:d?getResultForResolve(sass.renderSync(e)):new Promise((a,b)=>{sass.render(e,(c,d)=>c?b(c):void a(getResultForResolve(d)))})};exports.default=transformer;